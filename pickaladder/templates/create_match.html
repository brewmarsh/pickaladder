{% extends "layout.html" %}
{% block title %}Create Match{% endblock %}
{% block content %}
<div class="form-container">
    <h2>Create Match</h2>
    {% if error %}
        <div class="alert alert-danger">{{ error }}</div>
    {% endif %}
    <form method="post" action="{{ url_for('match.create_match') }}">
        <div class="form-group">
            <label for="player2">Opponent</label>
            <select id="player2" name="player2" required>
                {% for friend in friends %}
                    <option value="{{ friend.id }}" {{ 'selected' if friend.id == pre_selected_opponent_id else '' }}>
                        {{ friend.name }} ({{ friend.username }})
                    </option>
                {% endfor %}
            </select>
        </div>
        <div class="form-group">
            <label for="player1_score">Your Score</label>
            <input type="number" id="player1_score" name="player1_score" required>
        </div>
        <div class="form-group">
            <label for="player2_score">Opponent's Score</label>
            <input type="number" id="player2_score" name="player2_score" required>
        </div>
        <div class="form-group">
            <label for="match_date">Date</label>
            <input type="date" id="match_date" name="match_date" required>
        </div>
        <input type="submit" value="Create Match" class="btn">
        <a href="{{ url_for('user.dashboard') }}" class="btn btn-danger" style="margin-top: 10px;">Cancel</a>
    </form>
    <script>
        document.getElementById('match_date').valueAsDate = new Date();
    </script>
</div>
{% endblock %}
