{% extends "layout.html" %}
{% block title %}Edit Group{% endblock %}
{% block content %}
<div class="form-container">
    <h2>Edit Group</h2>
    <form method="post" action="{{ url_for('group.edit_group', group_id=group_id) }}" enctype="multipart/form-data">
        {{ form.hidden_tag() }}
        <div class="form-group">
            {{ form.name.label }}
            {{ form.name(class="form-control") }}
        </div>
        <div class="form-group">
            {{ form.description.label }}
            {{ form.description(class="form-control", rows="5") }}
        </div>
        <div class="form-group">
            {{ form.location.label }}
            {{ form.location(class="form-control") }}
        </div>
        <div class="form-group">
            {{ form.is_public.label }}
            {{ form.is_public() }}
        </div>
        <div class="form-group">
            {{ form.profile_picture.label }}
            {{ form.profile_picture(class="form-control") }}
        </div>
        <input type="submit" value="Update Group" class="btn">
        <a href="{{ url_for('group.view_group', group_id=group_id) }}" class="btn btn-danger" style="margin-top: 10px;">Cancel</a>
    </form>
</div>
{% endblock %}

{% block scripts %}
<script>
    document.addEventListener('DOMContentLoaded', function() {
        const fileInput = document.getElementById('profile_picture');
        if (fileInput) {
            fileInput.addEventListener('change', function() {
                const file = this.files[0];
                const maxSize = 15 * 1024 * 1024; // 15MB
                if (file && file.size > maxSize) {
                    alert('File is too large. Please select an image smaller than 15MB.');
                    this.value = ''; // Clear the input
                }
            });
        }
    });
</script>
{% endblock %}
